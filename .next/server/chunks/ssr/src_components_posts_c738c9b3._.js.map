{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/edwin/Desktop/CSCI3100_Project/src/components/posts/PostHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEllipsis, faPenToSquare, faFlag, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { faTrashAlt } from \"@fortawesome/free-regular-svg-icons\";\nimport { MouseEvent } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport moment from \"moment\";\nimport Link from \"next/link\";\nimport { useSession } from \"@/hooks/useSession\";\nimport UserAvatar from \"@/components/users/UserAvatar\";\n\nexport default function PostHeader({\n  postId,\n  postUserId,\n  postUsername,\n  postUpdatedAt,\n  postUserAvatar,\n  size = \"sm\",\n}: {\n  postId: string;\n  postUserId: string;\n  postUsername: string;\n  postUpdatedAt: string;\n  postUserAvatar: string | null;\n  size?: \"sm\" | \"md\";\n}) {\n  const router = useRouter();\n  const { session } = useSession();\n\n  // Check if the current user is the author of the post\n  const isAuthor = session.username === postUsername;\n\n  const handleEdit = (e: MouseEvent) => {\n    e.stopPropagation();\n    router.push(`/forum/post/${postId}/edit`);\n  };\n\n  const handleDelete = async (e: MouseEvent) => {\n    e.stopPropagation();\n    alert(\"Delete to be implemented\");\n  };\n\n  const handleReport = (e: MouseEvent) => {\n    e.stopPropagation();\n    alert(\"Report to be implemented\");\n  };\n\n  const textSize = size === \"md\" ? \"text-sm\" : \"text-xs\";\n\n  return (\n    <div className=\"flex justify-between items-center my-1\">\n      {/** Avatar, username, time */}\n      <div className=\"flex\">\n        {/** Avatar and username */}\n        <Link href={`/profile/${postUserId}`}>\n          <UserAvatar src={postUserAvatar} username={postUsername} size={size} />\n        </Link>\n        {/** Time */}\n        <div className=\"flex items-center mx-0.5 gap-0.5\">\n          <span className={`${textSize} font-thin`}>â€¢</span>\n          <span className={`${textSize} font-light`}>{moment(postUpdatedAt).fromNow()}</span>\n        </div>\n      </div>\n      <div className=\"flex gap-1\">\n        {/* Options menu */}\n        <div className=\"dropdown dropdown-end\">\n          <div tabIndex={0} role=\"button\" className={`btn btn-ghost btn-circle btn-${size}`}>\n            <FontAwesomeIcon icon={faEllipsis} size=\"xl\" />\n          </div>\n          <ul tabIndex={0} className=\"dropdown-content menu bg-base-100 rounded-box z-10 shadow-lg w-26\">\n            {/* Show edit/delete only if user is author */}\n            {isAuthor && (\n              <>\n                <li className=\"w-full\">\n                  <a onClick={handleEdit}>\n                    <FontAwesomeIcon icon={faPenToSquare} />\n                    <span>Edit</span>\n                  </a>\n                </li>\n                <li className=\"w-full\">\n                  <a onClick={handleDelete}>\n                    <FontAwesomeIcon icon={faTrashAlt} />\n                    <span>Delete</span>\n                  </a>\n                </li>\n              </>\n            )}\n\n            {/* Show report only if user is NOT author */}\n            {!isAuthor && (\n              <li>\n                <a onClick={handleReport}>\n                  <FontAwesomeIcon icon={faFlag} />\n                  <span>Report</span>\n                </a>\n              </li>\n            )}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAYe,SAAS,WAAW,EACjC,MAAM,EACN,UAAU,EACV,YAAY,EACZ,aAAa,EACb,cAAc,EACd,OAAO,IAAI,EAQZ;IACC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,aAAU,AAAD;IAE7B,sDAAsD;IACtD,MAAM,WAAW,QAAQ,QAAQ,KAAK;IAEtC,MAAM,aAAa,CAAC;QAClB,EAAE,eAAe;QACjB,OAAO,IAAI,CAAC,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC;IAC1C;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,eAAe;QACjB,MAAM;IACR;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,eAAe;QACjB,MAAM;IACR;IAEA,MAAM,WAAW,SAAS,OAAO,YAAY;IAE7C,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAM,CAAC,SAAS,EAAE,YAAY;kCAClC,cAAA,8OAAC,yIAAA,CAAA,UAAU;4BAAC,KAAK;4BAAgB,UAAU;4BAAc,MAAM;;;;;;;;;;;kCAGjE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAW,GAAG,SAAS,UAAU,CAAC;0CAAE;;;;;;0CAC1C,8OAAC;gCAAK,WAAW,GAAG,SAAS,WAAW,CAAC;0CAAG,CAAA,GAAA,gIAAA,CAAA,UAAM,AAAD,EAAE,eAAe,OAAO;;;;;;;;;;;;;;;;;;0BAG7E,8OAAC;gBAAI,WAAU;0BAEb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,UAAU;4BAAG,MAAK;4BAAS,WAAW,CAAC,6BAA6B,EAAE,MAAM;sCAC/E,cAAA,8OAAC,oKAAA,CAAA,kBAAe;gCAAC,MAAM,wKAAA,CAAA,aAAU;gCAAE,MAAK;;;;;;;;;;;sCAE1C,8OAAC;4BAAG,UAAU;4BAAG,WAAU;;gCAExB,0BACC;;sDACE,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAE,SAAS;;kEACV,8OAAC,oKAAA,CAAA,kBAAe;wDAAC,MAAM,wKAAA,CAAA,gBAAa;;;;;;kEACpC,8OAAC;kEAAK;;;;;;;;;;;;;;;;;sDAGV,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAE,SAAS;;kEACV,8OAAC,oKAAA,CAAA,kBAAe;wDAAC,MAAM,0KAAA,CAAA,aAAU;;;;;;kEACjC,8OAAC;kEAAK;;;;;;;;;;;;;;;;;;;gCAOb,CAAC,0BACA,8OAAC;8CACC,cAAA,8OAAC;wCAAE,SAAS;;0DACV,8OAAC,oKAAA,CAAA,kBAAe;gDAAC,MAAM,wKAAA,CAAA,SAAM;;;;;;0DAC7B,8OAAC;0DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASxB","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/edwin/Desktop/CSCI3100_Project/src/components/posts/PostFooter.tsx"],"sourcesContent":["\"use client\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faShare } from \"@fortawesome/free-solid-svg-icons\";\nimport { faThumbsDown, faThumbsUp, faComment } from \"@fortawesome/free-regular-svg-icons\";\nimport {\n  faThumbsDown as faThumbsDownSolid,\n  faThumbsUp as faThumbsUpSolid,\n  faLink,\n  faShareNodes,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { MouseEvent, useState } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useSession } from \"@/hooks/useSession\";\n\nexport default function PostFooter({\n  postId,\n  postLikeCount,\n  postDislikeCount,\n  postCommentCount,\n  postIsLiked,\n  postIsDisliked,\n}: {\n  postId: string;\n  postLikeCount: number;\n  postDislikeCount: number;\n  postCommentCount: number;\n  postIsLiked: boolean;\n  postIsDisliked: boolean;\n}) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const { session } = useSession();\n\n  const [userLiked, setUserLiked] = useState(postIsLiked);\n  const [userDisliked, setUserDisliked] = useState(postIsDisliked);\n  const [likeCount, setLikeCount] = useState(postLikeCount);\n  const [dislikeCount, setDislikeCount] = useState(postDislikeCount);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n\n  // Function to make API call for like/dislike\n  const updateLikeStatus = async (action: \"like\" | \"dislike\" | \"unlike\" | \"undislike\") => {\n    const setLoadingState = !isLoading; // avoid double toggling of loading state\n    if (setLoadingState) setIsLoading(true);\n\n    try {\n      const isRemoveAction = action === \"unlike\" || action === \"undislike\";\n      const url = isRemoveAction ? \"/api/Forum/unlikeOrUndislike\" : \"/api/Forum/likeOrDislike\";\n\n      const response = await fetch(url, {\n        method: isRemoveAction ? \"DELETE\" : \"POST\",\n        body: JSON.stringify({\n          postId: parseInt(postId),\n          userId: session.userId,\n          action: action,\n        }),\n      });\n\n      if (!response.ok) {\n        console.error(\"Failed to update like status:\", await response.text());\n        setIsLoading(false);\n        return;\n      }\n\n      const data = await response.json();\n      if (data.data.isSuccess) {\n        if (action === \"like\") {\n          setUserLiked(true);\n          setLikeCount((prev) => prev + 1);\n        } else if (action === \"dislike\") {\n          setUserDisliked(true);\n          setDislikeCount((prev) => prev + 1);\n        } else if (action === \"unlike\") {\n          setUserLiked(false);\n          setLikeCount((prev) => prev - 1);\n        } else if (action === \"undislike\") {\n          setUserDisliked(false);\n          setDislikeCount((prev) => prev - 1);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error updating like status:\", error);\n    } finally {\n      if (setLoadingState) setIsLoading(false);\n    }\n  };\n\n  const handleLike = async (e: MouseEvent) => {\n    e.stopPropagation();\n    if (isLoading) return;\n\n    // If already liked, just unlike\n    if (userLiked) {\n      updateLikeStatus(\"unlike\");\n    }\n    // If currently disliked, need to undislike first then like\n    else if (userDisliked) {\n      setIsLoading(true);\n      try {\n        // First remove the dislike\n        await updateLikeStatus(\"undislike\");\n        // Then add the like\n        await updateLikeStatus(\"like\");\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    // Not liked or disliked, just like\n    else {\n      updateLikeStatus(\"like\");\n    }\n  };\n\n  const handleDislike = async (e: MouseEvent) => {\n    e.stopPropagation();\n    if (isLoading) return;\n\n    // If already disliked, just undislike\n    if (userDisliked) {\n      updateLikeStatus(\"undislike\");\n    }\n    // If currently liked, need to unlike first then dislike\n    else if (userLiked) {\n      setIsLoading(true);\n      try {\n        // First remove the like\n        await updateLikeStatus(\"unlike\");\n        // Then add the dislike\n        await updateLikeStatus(\"dislike\");\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    // Not liked or disliked, just dislike\n    else {\n      updateLikeStatus(\"dislike\");\n    }\n  };\n\n  const handleComment = (e: MouseEvent) => {\n    e.stopPropagation();\n    if (pathname.includes(`/forum/post/${postId}`)) {\n      // Scroll to comments section if already on the post page\n      document.getElementById(\"comments\")?.scrollIntoView({ behavior: \"smooth\" });\n    } else {\n      router.push(`/forum/post/${postId}#comments`);\n    }\n  };\n\n  const handleLinkCopy = async (e: MouseEvent) => {\n    e.stopPropagation();\n\n    try {\n      await navigator.clipboard.writeText(`${window.location.origin}/forum/post/${postId}`);\n      setShowToast(true);\n\n      // Hide toast after 3 seconds\n      setTimeout(() => {\n        setShowToast(false);\n      }, 3000);\n    } catch (err) {\n      console.error(\"Failed to copy text: \", err);\n    }\n  };\n\n  const handleShare = async (e: MouseEvent) => {\n    e.stopPropagation();\n\n    // Check if Web Share API is available\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          url: `${window.location.origin}/forum/post/${postId}`,\n        });\n      } catch (err) {\n        console.error(\"Error sharing: \", err);\n      }\n    } else {\n      // Fallback to copy if share API is not available\n      handleLinkCopy(e);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      {/* Toast notification */}\n      {showToast && (\n        <div className=\"toast toast-center\">\n          <div className=\"alert alert-success\">\n            <span>Link copied to clipboard!</span>\n          </div>\n        </div>\n      )}\n\n      {/* Like, dislike */}\n      <div className=\"bg-base-200 rounded-xl\">\n        <button className=\"btn btn-sm\" onClick={handleLike} disabled={isLoading}>\n          <FontAwesomeIcon icon={userLiked ? faThumbsUpSolid : faThumbsUp} size=\"lg\" />\n        </button>\n        <span className=\"text-xs cursor-default\">\n          {Intl.NumberFormat(\"en\", {\n            notation: \"compact\",\n          }).format(likeCount - dislikeCount)}\n        </span>\n        <button className=\"btn btn-sm\" onClick={handleDislike} disabled={isLoading}>\n          <FontAwesomeIcon icon={userDisliked ? faThumbsDownSolid : faThumbsDown} size=\"lg\" />\n        </button>\n      </div>\n\n      {/* Comments */}\n      <button className=\"btn btn-sm\" onClick={handleComment}>\n        <FontAwesomeIcon icon={faComment} size=\"lg\" />\n        {Intl.NumberFormat(\"en\", {\n          notation: \"compact\",\n        }).format(postCommentCount)}\n      </button>\n\n      {/* Share */}\n      <div className=\"dropdown dropdown-start\">\n        <div tabIndex={0} role=\"button\" className=\"btn btn-sm\">\n          <FontAwesomeIcon icon={faShare} size=\"lg\" />\n          Share\n        </div>\n        <ul tabIndex={0} className=\"dropdown-content menu bg-base-100 rounded-box shadow w-35\">\n          <li>\n            <button onClick={handleLinkCopy}>\n              <FontAwesomeIcon icon={faLink} />\n              Copy link\n            </button>\n          </li>\n          <li>\n            <button onClick={handleShare}>\n              <FontAwesomeIcon icon={faShareNodes} />\n              Share via...\n            </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///Users/edwin/Desktop/CSCI3100_Project/src/components/posts/LoadingImage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Image from \"next/image\";\nimport { getProxyImageUrl } from \"@/utils/images\";\n\nexport default function LoadingImage({\n  src,\n  alt = \"\",\n  className = \"\",\n  priority = true,\n}: {\n  src: string;\n  alt?: string;\n  className?: string;\n  priority?: boolean;\n}) {\n  const [isLoading, setIsLoading] = useState(true);\n\n  const imageUrl = getProxyImageUrl(src);\n\n  return (\n    <div className=\"relative w-full overflow-hidden rounded-xl bg-base-300\">\n      {/* Blurred background image */}\n      <div className=\"absolute inset-0 w-full h-full opacity-60\">\n        <Image\n          src={imageUrl}\n          alt=\"Blurred background\"\n          className=\"object-cover blur-3xl w-full h-full\"\n          width={500}\n          height={500}\n          priority={priority}\n        />\n      </div>\n      {/* Main image */}\n      <div className=\"relative w-full h-full items-center justify-center\">\n        <div className=\"relative\">\n          {/* Skeleton */}\n          {isLoading && <div className={`skeleton w-full h-full absolute inset-0 ${className}`}></div>}\n\n          {/* Actual image */}\n          <Image\n            src={imageUrl}\n            alt={alt}\n            className={`w-full h-full ${className} ${\n              isLoading ? \"opacity-0\" : \"opacity-100\"\n            } transition-opacity duration-300`}\n            onLoad={() => setIsLoading(false)}\n            width={500}\n            height={500}\n            priority={priority}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,aAAa,EACnC,GAAG,EACH,MAAM,EAAE,EACR,YAAY,EAAE,EACd,WAAW,IAAI,EAMhB;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,WAAW,CAAA,GAAA,sHAAA,CAAA,mBAAgB,AAAD,EAAE;IAElC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK;oBACL,KAAI;oBACJ,WAAU;oBACV,OAAO;oBACP,QAAQ;oBACR,UAAU;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;wBAEZ,2BAAa,8OAAC;4BAAI,WAAW,CAAC,wCAAwC,EAAE,WAAW;;;;;;sCAGpF,8OAAC,6HAAA,CAAA,UAAK;4BACJ,KAAK;4BACL,KAAK;4BACL,WAAW,CAAC,cAAc,EAAE,UAAU,CAAC,EACrC,YAAY,cAAc,cAC3B,gCAAgC,CAAC;4BAClC,QAAQ,IAAM,aAAa;4BAC3B,OAAO;4BACP,QAAQ;4BACR,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAMtB","debugId":null}}]
}